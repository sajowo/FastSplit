/* --- RESET I BAZA --- */
* { box-sizing: border-box; }
body { font-family: "Roboto", sans-serif; margin: 0; padding: 0; }

/* --- HEADER --- */
header {
  background-color: #3f51b5;
  color: #fff;
  padding: 1em;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: fixed;
  top: 0; left: 0; width: 100%;
  z-index: 100;
}

.logo { width: 50px; height: 50px; }
.logo img { width: 100%; height: 100%; object-fit: contain; }

/* Wyszukiwarka */
.search-friend { display: flex; align-items: center; margin-right: 20px; }
.search-friend input[type="text"] {
  padding: 10px; border: none; border-radius: 5px; width: 150px;
  background-color: #fff; color: #3f51b5; vertical-align: middle;
}
.search-friend button {
  background-color: transparent; color: #fff; border: none; padding: 10px 15px;
  border-radius: 5px; cursor: pointer; margin-left: 5px; vertical-align: middle;
}

/* Profil Użytkownika */
.user-profile {
  position: relative; display: flex; align-items: center;
  margin-right: 20px; background-color: #3f51b5; color: #fff;
  border: none; cursor: pointer; padding: 10px; border-radius: 8px;
  transition: background-color 0.3s ease, transform 0.3s ease;
}
.user-profile:hover { background-color: #303f9f; transform: scale(1.05); }
.user-profile img { width: 40px; height: 40px; border-radius: 50%; margin-right: 10px; }
.user-profile p { margin: 0; }

.user-profile .logout-link {
  display: none; position: absolute; top: 100%; left: 50%;
  transform: translateX(-50%); background-color: white;
  padding: 5px 10px; border: 1px solid #ccc; border-radius: 5px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); white-space: nowrap;
  width: 100%; text-align: center; text-decoration: none; color: black;
}
.user-profile:hover .logout-link { display: block; }

/* Switch Motywu */
.switch-container { margin-right: 20px; }
.switch { position: relative; display: inline-block; width: 60px; height: 34px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider {
  position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
  background-color: #ccc; transition: 0.4s;
}
.slider:before {
  position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px;
  background-color: #fff; transition: 0.4s;
}
input:checked + .slider { background-color: #2196f3; }
input:focus + .slider { box-shadow: 0 0 1px #2196f3; }
input:checked + .slider:before { transform: translateX(26px); }
.slider.round { border-radius: 34px; }
.slider.round:before { border-radius: 50%; }

/* --- MAIN LAYOUT --- */
main {
  padding-top: 60px; margin-top: 130px;
  display: flex; flex-direction: column; align-items: center; padding: 2em;
}

/* Sidebar (jeśli używasz) */
.side-nav {
  width: 200px; background-color: #f5f5f5; padding: 1em;
  border-right: 1px solid #ddd; height: 100vh;
  position: fixed; top: 0; left: 0;
}
/* (Ukryte style side-nav skróciłem dla czytelności, bo chyba z tego nie korzystasz aktywnie na mobile, ale zostawiam bazę) */

/* Główne kontenery */
.split-request { display: flex; flex-direction: row; align-items: flex-start; width: 100%; }

/* Karta Tworzenia Rachunku */
.create-spill {
  background-color: #f5f5f5; padding: 1em; border-radius: 10px;
  width: 100%; max-width: 600px; margin-left: 16px;
}
.create-spill h2 { margin-top: 0; }
.create-spill form { display: flex; flex-direction: column; align-items: center; }
.create-spill .form-group { margin-bottom: 1em; }
.create-spill label { display: block; margin-bottom: 0.5em; }
.create-spill input[type="number"], 
.create-spill input[type="text"] { /* Dodałem input text dla nazwy grupy/rachunku */
  padding: 10px; border: none; border-radius: 5px; width: 100%; max-width: 200px;
}
.create-spill button[type="submit"] {
  background-color: #3f51b5; color: #fff; padding: 10px 20px;
  border: none; border-radius: 5px; cursor: pointer;
}
.create-spill button[type="submit"]:hover { background-color: #2196f3; }
.create-spill #spill-results { margin-top: 2em; }

#choose-friends-button {
  background-color: #3f51b5; color: #fff; padding: 10px 20px;
  border: none; border-radius: 5px; cursor: pointer; margin: 10px 0 20px 0;
}

/* Lista Znajomych (Środkowa kolumna) */
.friends-list {
  background-color: #f5f5f5; padding: 1em; border-radius: 10px;
  width: 100%; max-width: 300px; margin-left: 20px;
  display: flex; flex-direction: column; align-items: center;
}
#friends-list { display: flex; flex-wrap: wrap; justify-content: flex-start; width: 100%; }
#friends-list div {
  background-color: #f5f5f5; padding: 10px; border-radius: 15px; margin: 5px;
  cursor: move; border: 1px solid #ddd; box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
}

/* Ostatnie Rozliczenia (Prawa kolumna - TU JEST TWOJA POPRAWKA) */
.recent-splits {
  margin-left: auto; width: 100%; max-width: 300px; /* Twoja poprawka */
  display: flex; flex-direction: column; align-items: flex-end;
}
.split-item {
  background-color: #f5f5f5; padding: 1em; border-radius: 10px;
  margin-top: 10px; text-align: right; width: 100%;
}
.split-item h3 { margin-bottom: 1em; color: #3f51b5; }
.split-item p { margin-bottom: 1em; color: #3f51b5; }

/* Statusy rachunków (zastępuje inline style) */
.bill-paid { border-left: 5px solid green !important; }
.bill-rejected { border-left: 5px solid red !important; }
.bill-pending { border-left: 5px solid orange !important; }

/* --- POWIADOMIENIA (STARA WERSJA - ZIELONA RAMKA) --- */
.notification-box {
  background-color: #e8f5e9; border: 1px solid #4caf50;
  padding: 15px; margin: 20px; border-radius: 5px; width: 100%; max-width: 1000px;
}
.notification-list { list-style: none; padding: 0; }
.notification-item {
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: 10px; background: white; padding: 10px; border-radius: 5px;
}
.btn-accept {
  text-decoration: none; color: white; background: green;
  padding: 5px 10px; border-radius: 3px; margin-right: 5px;
}
.btn-reject {
  text-decoration: none; color: white; background: red;
  padding: 5px 10px; border-radius: 3px;
}

/* --- GRUPY (Wyciągnięte style inline) --- */
.create-group-container {
  margin-top: 30px; border-top: 2px solid #eee; padding-top: 20px; width: 100%;
}
.group-members-list {
  max-height: 150px; overflow-y: auto; border: 1px solid #ddd;
  padding: 10px; margin-bottom: 10px; background: #fafafa;
}
.btn-create-group {
  background: #333; color: white; border: none;
  padding: 8px 15px; cursor: pointer; border-radius: 5px;
}

/* --- POPUP --- */
#popup-container {
  display: none; position: fixed; top: 50%; left: 50%;
  transform: translate(-50%, -50%); background-color: #fff;
  padding: 20px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  z-index: 1000;
}
#popup-container ul { list-style: none; padding: 0; }
#popup-container li { margin-bottom: 10px; }
.slider-container input[type="number"] {
  width: 80px; padding: 5px; border: 1px solid #ccc; border-radius: 5px;
  text-align: center; font-weight: bold; margin-left: 10px;
  -moz-appearance: textfield;
}

/* --- TOASTY --- */
#toast-container {
  position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
  z-index: 2000; display: flex; flex-direction: column; gap: 10px;
}
.toast {
  background: #333; color: white; padding: 12px 24px; border-radius: 50px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15); animation: fadeIn 0.3s, fadeOut 0.3s 2.7s forwards; opacity: 0;
}
.toast.success { background: #4caf50; }
.toast.error { background: #f44336; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

/* --- DARK THEME --- */
body.dark-theme { background-color: #282828; color: #ddd; }
body.dark-theme header { background-color: #383838; } /* Tu miałeś szary w swojej wersji */
body.dark-theme .create-spill,
body.dark-theme .friends-list,
body.dark-theme .split-item,
body.dark-theme .stat-card { background-color: #383838; color: #ddd; }
body.dark-theme .split-item h3, 
body.dark-theme .split-item p { color: #ddd; }
body.dark-theme .create-spill button[type="submit"] { background-color: #3f51b5; color: #ddd; }
body.dark-theme #friends-list div { background-color: #383838; color: #ddd; }